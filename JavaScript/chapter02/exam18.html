<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>

</style>


</head>

<body>
    <form id="guestForm" action="http://localhost:8888/mysite6/guestbook/add" method="get">
		<table border="1" width="540px">
			<tr>
				<td>이름</td>
				<td><input type="text" name="name" id="name" value=""></td>

				<td>비밀번호</td>
				<td><input type="password" id="pw" name="pw" value=""></td>
			</tr>
			<tr>
				<td colspan="4">
					<textarea cols="72" rows="5" id="content" name="content" value=""></textarea>
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<button id="btnWrite" type="submit">등록</button>
				</td>
			</tr>
		</table>
	</form>
	<br>

</body>

<script>
document.addEventListener("DOMContentLoaded", function(){
	
	//전송(form의 submit)버튼을 클릭할 때
	let guestForm = document.querySelector("#guestForm");
	console.log(guestForm);
	guestForm.addEventListener("submit", function(event){
		console.log("전송버튼클릭");
		//event.preventDefault();

		let nameTag = document.querySelector("[name='name']");
		let pwTag = document.querySelector("[name='pw']");
		let contentTag = document.querySelector("[name='content']");
		let name = nameTag.value.trim();
		let pw = pwTag.value.trim();
		let content = contentTag.value.trim();
		console.log(nameTag);
		console.log(name);
		console.log(pw);
		console.log(content);
		
		//이름 체크
		if(name == ""){ //이름을 입력하지 않으면 폼전송 하지말것
			event.preventDefault(); //폼기능 제한
			window.alert("이름을 입력해주세요"); //경고창
			return false; //이벤트 전파를 막는다

		//비밀번호 체크
		if(pw == ""){
			event.preventDefault();
			window.alert("비밀번호를 입력해주세요");
			return false;
		}

		//내용 체크
		if(content == ""){
			event.preventDefault();
			window.alert("내용을 입력해주세요");
			return false;
		}


		//서버로 데이터 전송이 된다(폼의 원래 기능)
		//return true;는 보통 쓰지 않는다
	});
	
});
</script>

</html>